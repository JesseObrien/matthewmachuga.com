!!! 5
%html
  %head
    %meta{:name => 'viewport', :content => 'width=device-width, initial-scale=1.0'}
    %meta{:content => 'IE=edge,chrome=1', :'http-equiv' => 'X-UA-Compatible'}
    %meta{:charset => 'utf-8'}
    %meta{:name => 'description', :content => site_info.description}
    %meta{:name => 'author', :content => site_info.author}
    %title
      Matthew Machuga
      - if current_page.data.title
        | #{current_page.data.title}
    = stylesheet_link_tag 'normalize', 'all'
    = javascript_include_tag  'all'

  %body{ :class => page_classes }
    .navbar.navbar-default.navbar-static-top{:role => 'navigation'}
      .container
        .navbar-header
          %button.navbar-toggle.collapsed{'data-target' => '.navbar-collapse', 'data-toggle' => 'collapse', :type => 'button'}
            %span.sr-only Toggle navigation
            %span.icon-bar
            %span.icon-bar
            %span.icon-bar
          %a.navbar-brand{:href => '/'} Matthew Machuga
        .navbar-collapse.collapse
          %ul.nav.navbar-nav
            %li
              %a{:href => 'http://blog.matthewmachuga.com'} Blog
            - %w(contact screencasts talks).each do |link|
              %li{:class => current_page?("/#{link}") && 'active'}
                %a{:href => "/#{link}.html"} #{link.capitalize}
    .container
      %header
      %main
        = yield
      %footer.footer
        %h1 Copyright &copy; #{Date.today.year} Matthew Machuga

    %script{src: '//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js'}
    %script{src: '/javascripts/all.js'}
    :javascript
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-17079773-1']);
      _gaq.push(['_trackPageview']);
      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
